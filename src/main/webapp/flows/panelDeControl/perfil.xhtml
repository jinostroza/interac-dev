<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://java.sun.com/jsf/core"
                template="/templates/default.xhtml">

    <ui:define name="contenido">
        <h2>Perfil de Usuario</h2>
        <h:form id="perfil">

            <p:panel header="Datos de la Cuenta" styleClass="row">
                <h:panelGrid columns="2" cellpadding="5px" styleClass="col-md-6 col-md-offset-3 col-lg-6 col-lg-offset-3  ">
                    <h:outputLabel value="Usuario :"/>
                    <h:outputText value="#{userSession.usuario.username}" />
                    <h:outputLabel value="correo :" />
                    <h:outputText value="#{userSession.usuario.correo}"/>
                    <h:outputLabel value="empresa :" />
                    <h:outputText value="#{userSession.usuario.empresa}"/>

                    <h:commandButton icon="ui-icon-pencil" value="Cambiar" styleClass="btn-interac" action="#{mantenedorPerfil.irCambiarClave()}"/>
                </h:panelGrid>
            </p:panel>


            <p:panel header="CambiarPerfil" styleClass="row">
                <h:panelGrid columns="2" styleClass="col-md-6 col-md-offset-3 col-lg-6 col-lg-offset-3 form-group " cellpadding="5px" >
                    <h:outputLabel value="Usuario :"/>
                       <h:outputLabel  value="#{userSession.usuario.username}"/>
                    <h:outputLabel value="Correo  :"/>
                       <p:inputText type="email"  placeholder="Email" styleClass="form-control"  value="#{mantenedorPerfil.usuario.correo}"/>
                    <h:outputLabel value="Empresa :"/>
                       <p:inputText placeholder="Empresa" styleClass="form-control" value="#{mantenedorPerfil.usuario.empresa}"/>


                    <h:outputLabel for="iNueva" value="Contrase単a Nueva :"/>
                        <h:inputSecret id="iNueva"  value="#{mantenedorPerfil.claveNueva}" styleClass="form-control"
                                       required="true" requiredMessage="Debes especificar la contrase単a nueva"/>

                    <h:outputLabel for="iConfirmar" value="Repita la Nueva Contrase単a :"/>
                        <h:inputSecret id="iConfirmar" value="#{mantenedorPerfil.claveConfirmada}"
                                       styleClass="form-control" required="true" requiredMessage="Debes confirmar la nueva contrase単a"/>


                   <h:commandButton id="modifica" styleClass="btn-interac" value="Modificar" type="button">
                        <p:overlayPanel id="editPanel" for="modifica" showEvent="click" hideEvent="click" hideEffect="fade" style="width:600px">
                            <h:inputSecret id="iActual" styleClass="form-control" value="#{mantenedorPerfil.claveActual}"/>
                            <h:commandButton value="guardar" styleClass="btn-interac"  action="#{mantenedorPerfil.cambiaPerfil()}"/>
                        </p:overlayPanel>
                    </h:commandButton>
                </h:panelGrid>
            </p:panel>
        </h:form>
    </ui:define>
</ui:composition>