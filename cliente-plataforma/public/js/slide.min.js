var Slide={};(function(){this.start=function(){var e=this;jQuery.get("/getMedia").done(function(i){for(var t=JSON.parse(i),r=t.length-1,s="block";r>=0;r--,s="none")if(t[r].endsWith(".mp4")||t[r].endsWith(".ogg")){var n=jQuery("<video controls='false' style='width: 1060px'><source></source></video>");n.css("display",s),n.find("source").first().attr("src",t[r]),n.find("source").first().attr("type","video/"+t[r].substr(t[r].lastIndexOf(".")+1,t[r].length)),jQuery("div.center").append(n)}else{var o=jQuery("<img style='width: 1060px;height: 1900px' ></img>");o.attr("src",t[r]),o.css("display",s),jQuery("div.content").append(o)}e.sliderTimerID=setTimeout(e.change.bind(e),e.showTime),e.syncTimerID=setTimeout(e.checkNewData.bind(e),e.syncTime)})},this.change=function(){for(var e=jQuery("div.content").find("img, video"),i=0;i<e.length;i++)if(!jQuery(e[i]).is(":not(:visible)")){var t=jQuery(e[(i+1)%e.length]);jQuery(e[i]).hide(),t.show(),t.is("video")&&t.get(0).play();break}self.sliderTimerID=setTimeout(this.change.bind(this),this.showTime)},this.checkNewData=function(){jQuery.get("/getMedia").done(function(e){for(var i=jQuery("div.content").find("img, video"),t=JSON.parse(e),r=!1,s=0;s<t.length;s++){for(var n=0;n<i.length;n++){var o=$(i[n]),d=o.is("video")?o.find("source").attr("src"):o.attr("src");if(d==t[s]){r=!0;break}}if(!r){var a="none";if(t[s].endsWith(".mp4")||t[s].endsWith(".ogg")){var c=jQuery("<video controls='false'><source></source></video>");c.css("display",a),c.find("source").first().attr("src",t[s]),c.find("source").first().attr("type","video/"+t[s].substr(t[s].lastIndexOf(".")+1,t[s].length)),jQuery("div.content").append(c)}else{var u=jQuery("<img></img>");u.attr("src",t[s]),u.css("display",a),jQuery("div.content").append(u)}}}})}}).apply(Slide);